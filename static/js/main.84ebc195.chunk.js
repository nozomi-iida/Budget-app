(this.webpackJsonpmoneycount=this.webpackJsonpmoneycount||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n(12),o=n.n(r),i=n(29),s=n(14),u=n(34),l=n(59),j=n(18),d=n(42);n(71),n(73);d.a.initializeApp({apiKey:"AIzaSyAw09ImbNezT8Z05k-6Lsz6f82mm3KGOu8",authDomain:"budgetbookapp.firebaseapp.com",projectId:"budgetbookapp",storageBucket:"budgetbookapp.appspot.com",messagingSenderId:"90737617013",appId:"1:90737617013:web:e6d559bb5e7559786df03c",measurementId:"G-VKXR6CW0QJ"});d.a;var b=d.a.auth(),p=d.a.firestore(),O=Object(a.createContext)(),m=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(j.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){b.onAuthStateChanged((function(e){i(e)}))}),[]),Object(c.jsx)(O.Provider,{value:o,children:t})},h=function(e){var t=e.component,n=Object(l.a)(e,["component"]),r=Object(a.useContext)(O);return Object(c.jsx)(s.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(u.a)({},e)):Object(c.jsx)(s.a,{to:"/login"})}}))},x=n(117),f=n(118),g=n(110),v=Object(g.a)({title:{color:"red"},form:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"60%",height:"400px",margin:"0 auto"}}),y=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),u=Object(j.a)(o,2),l=u[0],d=u[1],p=v(),O=Object(s.g)();return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.signInWithEmailAndPassword(n,l).then((function(e){O.push("/")})).catch((function(e){console.error("ERR",e)}))},className:p.form,children:[Object(c.jsx)("h1",{className:p.title,children:"Login"}),Object(c.jsx)(x.a,{label:"emailadress",variant:"filled",value:n,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)(x.a,{type:"password",label:"password",variant:"outlined",value:l,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)(f.a,{type:"submit",variant:"contained",color:"secondary",children:"Login"}),Object(c.jsx)(i.b,{to:"/signup",children:"Don't you have an account?"})]})},w=(n(80),n(113)),N=function(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(a.useContext)(O);return Object(c.jsx)("div",{className:"form-wrapper",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.collection("budget").add({expensive:n,name:o.displayName,createdAt:new Date}).then((function(){r(0)}))},children:[Object(c.jsx)("div",{className:"input-wrapper",children:Object(c.jsx)(w.a,{type:"number",value:n,onChange:function(e){return r(e.target.value)}})}),Object(c.jsx)(f.a,{type:"submit",variant:"contained",color:"secondary",children:"Send"})]})})},S=n(115),C=n(116),k=Object(g.a)({budget:{padding:"0px",margin:"5px"}}),A=function(e){var t=e.budget,n=e.deleteItem,a=k();return console.log(t.createdAt.toDate),Object(c.jsxs)(S.a,{className:a.budget,children:[Object(c.jsxs)(C.a,{children:["wtitten by: ",t.name,", date: ",t.createdAt.toDate().toString()," "]}),Object(c.jsxs)(C.a,{children:["expense: ",t.expensive,"yen"]}),Object(c.jsx)("button",{onClick:function(){n(t.id)},type:"button",children:"delete"})]},t.id)},D=function(e){var t=e.budget.map((function(e){return parseInt(e.expensive)})).reduce((function(e,t){return e+t}),0),n=Number(t);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"check",children:[Object(c.jsxs)("h3",{children:["Your\u3000medical expense Total  ",Number(t),"yen"]}),Object(c.jsxs)("h3",{children:["Are you eligible for medical expense deduction?",n>=1e5?Object(c.jsx)("span",{children:"Yes"}):Object(c.jsx)("span",{children:"No"})]})]})})},I=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){p.collection("budget").orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})}));r(t)}))}),[]);var o=function(e){p.collection("budget").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))};return Object(c.jsxs)(c.Fragment,{children:[n.map((function(e){return Object(c.jsx)(A,{budget:e,deleteItem:o},e.id)})),Object(c.jsx)(D,{budget:n})]})},E=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"app-wrapper",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("h1",{children:"Medical Expense"})}),Object(c.jsx)(I,{}),Object(c.jsx)(N,{}),Object(c.jsx)("div",{className:"logout-button",children:Object(c.jsx)(f.a,{onClick:function(){b.signOut()},variant:"contained",children:"Logout"})})]})})})},B=Object(g.a)({title:{color:"Blue"},form:{display:"flex",justifyContent:"space-between",flexDirection:"column",width:"60%",height:"400px",margin:"0 auto"}}),L=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),s=Object(j.a)(o,2),u=s[0],l=s[1],d=Object(a.useState)(""),p=Object(j.a)(d,2),O=p[0],m=p[1],h=B();return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.createUserWithEmailAndPassword(u,O).then((function(e){console.log("ok",e),e.user.updateProfile({displayName:n})})).catch((function(e){console.error("ERR",e)}))},className:h.form,children:[Object(c.jsx)("h1",{className:h.title,children:"Signup"}),Object(c.jsx)(x.a,{label:"username",variant:"outlined",value:n,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)(x.a,{label:"emailadress",variant:"filled",value:u,onChange:function(e){return l(e.target.value)}}),Object(c.jsx)(x.a,{type:"password",label:"password",variant:"outlined",value:O,onChange:function(e){return m(e.target.value)}}),Object(c.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",children:"\u767b\u9332"}),Object(c.jsx)(i.b,{to:"login",children:"Jump to\u3000Login page"})]})},R=function(){return console.log("/Budget-app"),Object(c.jsx)(m,{children:Object(c.jsx)(i.a,{basename:"/Budget-app",children:Object(c.jsxs)(s.d,{children:[Object(c.jsx)(h,{exact:!0,path:"/",component:E}),Object(c.jsx)(s.b,{exact:!0,path:"/login",component:y}),Object(c.jsx)(s.b,{exact:!0,path:"/signup",component:L})]})})})};o.a.render(Object(c.jsx)(R,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.84ebc195.chunk.js.map